<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Desenvolvimento Mobile com Apache Cordova no Visual Studio e AngularJS | DZF Web</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/font.css"><link rel="stylesheet" type="text/css" href="/css/noise.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"></head><body><!-- gallery that comes before the header--><article class="wrapper"><div class="post-main"><div class="nav"><nav class="container"><a href="/" class="sidebar-nav-item active">Inicio</a><a href="/contato" class="sidebar-nav-item">Contato</a><a href="/sobre" class="sidebar-nav-item">Sobre</a></nav><div class="container post-meta"><div class="post-tags"><a class="post-tag-link" href="/tags/apache-cordova/">apache-cordova</a><a class="post-tag-link" href="/tags/javascript/">javascript</a><a class="post-tag-link" href="/tags/mobile/">mobile</a><a class="post-tag-link" href="/tags/net/">net</a><a class="post-tag-link" href="/tags/node-js/">node.js</a><a class="post-tag-link" href="/tags/visual-studio/">visual-studio</a></div><div class="post-time">10-12-2014</div></div></div><div class="container post-header"><h1>Desenvolvimento Mobile com Apache Cordova no Visual Studio e AngularJS</h1></div><div class="container post-content"><p>É redundante dizer que o espaço que desenvolvimento de aplicações para dispositivos móveis vem ocupando no Mercado está cada dia maior. A cada dia que passa, nós desenvolvedores somos presenteados com novas ferramentas e tecnologias para facilitar o nosso trabalho, possibilitando atingir novos horizontes e desafiando os nossos limites.</p>
<p>A Microsoft em novembro deste ano, no evento Connect() disponibilizou uma extensão oficial para desenvolver aplicações híbridas com <a href="http://www.visualstudio.com/pt-BR/explore/cordova-vs.aspx" target="_blank" rel="external"><strong>Apache Cordova</strong> no<strong> Visual Studio</strong></a>.  Neste artigo irei demonstrar como fazer a instalação desta extensão, como configurar, e os primeiros passos para fazer uma aplicação básica com AngularJS.</p>
<p><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/cordova.png"><img src="http://blog.dzfweb.com.br/wp-content/uploads/2014/12/cordova-246x300.png" alt="desenvolvimento mobile com apache cordova visual studio"></a><a id="more"></a></p>
<hr>
<p>&nbsp;</p>
<p><strong>Requisitos</strong></p>
<ul>
<li>Sistema Operacional Windows 7, Windows 8, Windows 8.1, ou Windows Server 2012 R2.</li>
<li>Visual Studio 2013 Update 4 (<a href="http://www.visualstudio.com/pt-br/downloads/download-visual-studio-vs#d-visual-studio-2013-update" target="_blank" rel="external">download</a>)<br>Para instalar a extensão Apache Cordova Tools para Visual Studio, você precisa da atualização 4 do Visual Studio 2013. Uma resalva para o Visual Studio 2015 BETA que não é necessário.</li>
</ul>
<p><strong>Instalação</strong></p>
<ul>
<li>Visual Studio Tools for Apache Cordova (<a href="http://www.microsoft.com/en-us/download/details.aspx?id=42675" target="_blank" rel="external">download</a>)<br>Faça o download da extensão e execute o instalador. Será instalado em seu computador, todos os recursos necessários para utilização do Apache Cordova no Visual Studio. Quando solicitado, permitir o instalador instalar software de terceiros.</li>
</ul>
<p><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/visual-studio-tools-for-apache-cordova.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/visual-studio-tools-for-apache-cordova.png" alt="visual-studio-tools-for-apache-cordova"></a></p>
<p>Após a instalação, reinicie o computador para garantir que todos os recursos foram instalados corretamente.</p>
<p>&nbsp;</p>
<p><strong>Criando  sua primeira Aplicação com Apache Cordova no Visual Studio</strong></p>
<p>Agora que o Visual Studio esta preparado, você esta apto a criar, debugar, testar e distribuir projetos desenvolvidos utilizando Apache Cordova no Visual Studio.</p>
<ul>
<li>Abra o Visual Studio, na barra de menu selecione File &gt; New Project</li>
<li>Na janela que abrir, em Templates, selecione JavaScript &gt; Apache Cordova Apps &gt; Blank App Template<br><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/novo-projeto-apache-cordova-visual-studio1.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/novo-projeto-apache-cordova-visual-studio1.png" alt=""></a></li>
</ul>
<p>Este template de projeto inclui 5 pastas:</p>
<ol>
<li><strong>css </strong>- contêm estilos básicos do projeto em branco</li>
<li><strong>images </strong>- pasta sugerida para imagens da aplicação</li>
<li><strong>merge -</strong> é usado para inserir códigos específicos por plataforma. Por padrão, possui apenas códigos mais comuns para Android e Windows</li>
<li><strong>res - </strong>é usado para informar os ícones do aplicativo e imagens de tela (splash screen).</li>
<li><strong>scripts</strong> - é a localização padrão para todos os JavaScripts do projeto.<br>&nbsp;</li>
</ol>
<p><strong>Compilando o Projeto</strong></p>
<p>Como é o primeiro projeto iniciado após a instalação, vamos compilar para garantir que todos os recursos da instalação foram instalados corretamente. A instalação possui da extensão Visual Studio Tools for Apache Cordova, criará um emulador de Android, cujo este iremos utilizar para neste artigo.</p>
<ol>
<li>Abra o Android Virtual Device (AVD) Manager (Localização: C:Program Files (x86)Androidandroid-sdk)<br>Caso a instalação tenha ocorrido corretamente, você terá um Emulador de Android criado e configurado. Você pode adicionar outros emuladores com as configurações que lhe convir clicando no botão Create.</li>
<li>Selecione o Emulador na aba Android Virtual Devices e clique em Start &gt; Launch.<br>Se tudo ocorrer bem, o Emulador de Android será iniciado. Aguarde o carregamento completo.<br><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/android-virtual-device.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/android-virtual-device.png" alt="android-virtual-device"></a></li>
</ol>
<p><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/avd_galaxynexus_.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/avd_galaxynexus_.png" alt="avd_galaxynexus_"></a></p>
<p>Após o emulador ter iniciado, volte para o Visual Studio e vamos prepara-lo para compilar nossa aplicação de Teste no emulador.</p>
<ol>
<li>Em <strong>Solution Platforms</strong>, selecione <strong>Android</strong><br><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/solution-plataform.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/solution-plataform.png" alt="solution-plataform">
</a></li>
<li>Caso esta opção não esteja sendo exibida, selecione <strong>Solution Platforms </strong>em <strong>Add/Remove Buttons</strong> conforme a<br>ilustração abaixo.<br><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/solution-plataform-add.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/solution-plataform-add.png" alt="solution-plataform-add"></a></li>
<li>Selecione <strong>Android Emulator</strong> conforme a ilustração abaixo.<br><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/android-emulator-visual-studio.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/android-emulator-visual-studio.png" alt="android-emulator-visual-studio">
</a></li>
<li>Pressione <strong>F5 </strong>para compilar a aplicação no Emulador de Android anteriormente iniciado. A primeira compilação pode levar um tempo, pois o Visual Studio irá configurar o Apache Cordova e seus recursos. Você pode acompanhar o processo na aba <strong>Output</strong>.<br><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/aplication-ready.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/aplication-ready.png" alt="aplication-ready"></a><br>&nbsp;</li>
</ol>
<p><strong>Apache Cordova com AngularJS</strong></p>
<p>Vou demonstrar agora uma forma básica de utilização do <a href="https://angularjs.org/" target="_blank" rel="external">AngularJS</a> em projetos Apache Cordova no Visual Studio. A ideia é apenas abrir caminho para estudo de ferramentas para desenvolvimento JavaScript, que é o que o Apache Cordova possibilita. Você pode usar outros frameworks, como Knockout, WinJS etc. Para mais tutoriais sobre AngularJS acesse a <a href="https://docs.angularjs.org/tutorial" target="_blank" rel="external">Documentação</a>.</p>
<ol>
<li><p><strong>index.html
</strong>Adicione as Referencias para o AngularJS. Para este artigo, iremos utilizar as referencias AngularJS nativa e Route.<strong>
</strong>Adicione as diretivas <em>ng-app</em> na tag html.<br>Crie uma nova div e adicione a diretiva ng-view.<br>Seu arquivo deverá ficar assim:</p>
<p>&lt;!DOCTYPE html&gt;<br>&lt;html ng-app=”PrimeiroAppCordova”&gt;<br>&lt;head&gt;</p>
<pre><code>&amp;lt;meta charset=&quot;utf-8&quot; /&amp;gt;
&amp;lt;title&amp;gt;PrimeiroAppCordova&amp;lt;/title&amp;gt;

&amp;lt;!-- PrimeiroAppCordova references --&amp;gt;
&amp;lt;link href=&quot;css/index.css&quot; rel=&quot;stylesheet&quot; /&amp;gt;
</code></pre><p>&lt;/head&gt;<br>&lt;body&gt;</p>
<pre><code>&amp;lt;p&amp;gt;Hello, your application is ready!&amp;lt;/p&amp;gt;

&amp;lt;!-- Cordova reference, this is added to your app when it&apos;s built. --&amp;gt;
&amp;lt;script src=&quot;cordova.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&quot;scripts/platformOverrides.js&quot;&amp;gt;&amp;lt;/script&amp;gt;

&amp;lt;script src=&quot;scripts/index.js&quot;&amp;gt;&amp;lt;/script&amp;gt;

&amp;lt;!-- AngularJS references--&amp;gt;
&amp;lt;script src=&quot;https://code.angularjs.org/1.2.27/angular.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&quot;https://code.angularjs.org/1.2.27/angular-route.js&quot;&amp;gt;&amp;lt;/script&amp;gt;

&amp;lt;div class=&quot;view-layout&quot; ng-view&amp;gt;&amp;lt;/div&amp;gt;
</code></pre><p>&lt;/body&gt;<br>&lt;/html&gt;<br><code><br>`</code><br>A diretiva <a href="https://docs.angularjs.org/api/ng/directive/ngApp" target="_blank" rel="external"><strong>ng-app </strong></a>serve para identificar a raiz de uma aplicação AngularJS, e a diretiva <strong><a href="https://docs.angularjs.org/api/ngRoute/directive/ngView" target="_blank" rel="external">ng-view</a></strong> identifica o local específico onde será renderizado as views (ex: Partial Views no ASP.NET MVC)</p>
</li>
<li><p><strong>Scripts/app.js
</strong>Crie um arquivo na pasta Scripts com o nome app.js. Aqui ficaram as configurações globais de sua aplicação AngularJS, como modulos, rotas, etc.<br><pre>`var myApp = angular.module(‘PrimeiroAppCordova’, [<br>  ‘ngRoute’,<br>  ‘myAppControllers’<br>]);</pre></p>
<p>myApp.config([‘$routeProvider’,<br>  function ($routeProvider) {</p>
<pre><code>$routeProvider.
  when(&apos;/&apos;, {
      templateUrl: &apos;Views/View-Inicial.html&apos;,
      controller: &apos;ControllerInicial&apos;
  }).
  when(&apos;/Sobre&apos;, {
      templateUrl: &apos;Views/View-Sobre.html&apos;,
      controller: &apos;ControllerSobre&apos;
  }).
  otherwise({
      redirectTo: &apos;/&apos;
  });
</code></pre><p>  }]);<br>`<br>O código acima, definimos o modulo raiz da aplicação e os caminhos de rota. Isso é algo interessante que o AngularJS fornece, onde você pode definir para qual View o script devera apontar em determinada url e para qual Controller esta view pertence.</p>
</li>
<li><p><strong>Scripts/controllers.js
</strong>Crie um arquivo na pasta Scripts com o nome controller.js. Aqui ficaram as definições dos Controllers da aplicação.<br><pre>`var myAppControllers = angular.module(‘myAppControllers’, []);</pre></p>
<p>myAppControllers.controller(‘ControllerInicial’, [‘$scope’, ‘$http’,<br>  function ($scope, $http) {</p>
<pre><code>$scope.subTitulo = &quot;Esse é o sub-titulo&quot;;

$scope.menuList = [
    { &apos;url&apos;: &apos;#Login&apos;, &apos;text&apos;: &apos;Login&apos; },
    { &apos;url&apos;: &apos;#Sobre&apos;, &apos;text&apos;: &apos;Sobre&apos; }
];
</code></pre><p>  }]);</p>
<p>myAppControllers.controller(‘ControllerSobre’, [‘$scope’, ‘$routeParams’,</p>
<pre><code>function ($scope, $routeParams) {

}]);
</code></pre><p>`<br>&nbsp;</p>
<p>Os controllers tem a função de manipular as informações das Views através do elemento $scope, onde é possivel acessar todas as diretivas e manipula-las. No ControllerInicial,  manipulamos dois elementos (subTitulo e menuList), ao ato de carregamento desta View, é possível acessar estes dados. Estamos enviando para o $scope a variavel <strong><em>subTitulo</em> </strong>com uma <em>string</em> e a variavel <strong><em>menuList</em> </strong>com um <em>array de objeto</em>.</p>
<p>&nbsp;</p>
</li>
<li><p><strong>Views/View-Inicial.html
</strong>Crie uma pasta Views, em seguida adicione um novo arquivo html com o nome View-Inicial.html.<br>Esta view será carregada no inicio da aplicação apontando para o Controller <em>ControllerInicial</em>, conforme definido nas configurações de rotas.<br><pre>`&lt;div&gt;</pre></p>
<pre><code>&amp;lt;h2&amp;gt;Principal&amp;lt;/h2&amp;gt;
&amp;lt;p&amp;gt; {{ subTitulo }} &amp;lt;/p&amp;gt;
&amp;lt;div class=&quot;list-group&quot; ng-repeat=&quot;menu in menuList&quot;&amp;gt;
    &amp;lt;a class=&quot;list-group-item&quot; href=&quot;{{ menu.url }}&quot;&amp;gt; {{ menu.text }} &amp;lt;/a&amp;gt;
&amp;lt;/div&amp;gt;
</code></pre><p>&lt;/div&gt;</p>
</li>
</ol>
<p>Vemos no código acima, a utilização da variavel _<strong>subTitulo</strong>, <em>anteriormente definida no </em><strong>ControllerInicial</strong><em>. A lista de objetos </em><strong>menuList</strong>_, é utilizada junto a diretiva <a href="https://docs.angularjs.org/api/ng/directive/ngRepeat" target="_blank" rel="external"><strong>ng-repeat</strong></a>, que é uma espécie de foreach do c#. Basicamente o que ela faz é repetir a as instruções para cada elemento da lista, podendo acessar as propriedades de cada elemento individual.</p>
<p>Compile o projeto e já é possivel ver o resultado no Emulador.</p>
<p><a href="http://www.dzfweb.com.br/wp-content/uploads/2014/12/projeto-resultado-final.png"><img src="http://www.dzfweb.com.br/wp-content/uploads/2014/12/projeto-resultado-final.png" alt="projeto-resultado-final"></a></p>
<hr>
<p>Finalizo aqui este artigo, que teve como propósito explicar como instalar as ferramentas necessárias para desenvolver aplicações mobile no Visual Studio com o Apache Cordova, e uma breve descrição de utilização com o AngularJS. Cabe a você desenvolvedor explorar os inúmeros recursos que essas ferramentas em conjunto podem proporcionar.</p>
<p>Você pode fazer o download do projeto de exemplo neste artigo <a href="http://dzfweb.com.br/downloads/PrimeiroAppCordova.rar" target="_blank" rel="external"><strong>Clicando Aqui</strong></a>.<br>Preparei outro projeto mais elaborado com Bootstrap, jQuery, AngularJS e você pode fazer o download <a href="http://dzfweb.com.br/downloads/MyApp.rar" target="_blank" rel="external"><strong>Clicando Aqui</strong></a>.<br>Conheça a biblioteca <a href="http://ngcordova.com/" target="_blank" rel="external">ngCordova</a>, para facilitar a integração em aplicações Cordova com AngularJS</p>
<p>Qualquer dúvida, deixe um comentário que responderei quando possível.</p>
<p>&nbsp;</p>
</div></div><div class="post-main post-comment"><div id="disqus_thread"></div><script type="text/javascript">
var disqus_shortname = 'dzfweb';
var disqus_identifier = '10/12/2014/desenvolvimento-mobile-com-apache-cordova-no-visual-studio-com-angularjs/';
var disqus_title = 'Desenvolvimento Mobile com Apache Cordova no Visual Studio e AngularJS';
var disqus_url = 'http://www.dzfweb.com.br/10/12/2014/desenvolvimento-mobile-com-apache-cordova-no-visual-studio-com-angularjs/';
(function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">Blog comments powered by <span class="logo-disqus">Disqus</span></a></div></article><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body></html>